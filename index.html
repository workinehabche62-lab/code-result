<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google-site-verification" content="njhebUWbBkoK6WBkmyEyU5ntA4YIGMwnI9V6g2Eaw0k" />
    <title>Damot 2028 Result - Student Portal</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    
    <style>
        :root { --primary: #004a99; --accent: #ffcc00; --danger: #e63946; --success: #25d366; --secondary: #f0f4f8; --border: #dee2e6; }
        body { font-family: 'Roboto', sans-serif; background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); margin: 0; padding: 15px; min-height: 100vh; }
        .container { max-width: 900px; margin: 20px auto; background: white; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.15); overflow: hidden; }
        
        .lang-bar { background: #eee; padding: 12px; text-align: center; border-bottom: 1px solid #ddd; }
        .lang-btn { background: white; border: 1px solid #ccc; padding: 6px 12px; margin: 3px; cursor: pointer; border-radius: 6px; font-weight: bold; transition: 0.3s; font-size: 13px; }
        .lang-btn:hover, .lang-btn.active { background: var(--primary); color: white; border-color: var(--primary); }

        .school-banner { background: linear-gradient(90deg, #004a99 0%, #0066cc 100%); color: white; padding: 35px 20px; text-align: center; border-bottom: 6px solid var(--accent); }
        .highlight-name { color: var(--danger); font-weight: 900; text-transform: uppercase; }

        .login-card { padding: 60px 20px; text-align: center; background: white; }
        input { width: 85%; max-width: 350px; padding: 14px; margin: 10px 0; border: 2px solid #eee; border-radius: 10px; font-size: 16px; display: block; margin-left: auto; margin-right: auto; }
        .btn-main { background: var(--primary); color: white; padding: 16px 50px; border: none; border-radius: 10px; cursor: pointer; font-weight: bold; font-size: 18px; margin-top: 15px; transition: 0.3s; }
        .btn-main:hover { background: #003366; }

        #resultArea { display: none; padding: 30px; animation: fadeIn 0.5s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        #pName { font-size: 30px; font-weight: 800; color: #333; margin-bottom: 20px; text-align: center; border-bottom: 2px solid var(--secondary); padding-bottom: 10px; }
        
        .grid-info { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 12px; margin-bottom: 30px; }
        .info-cell { background: #fcfcfc; padding: 10px; border-radius: 8px; border-left: 4px solid var(--primary); text-align: left; }
        .info-cell label { font-size: 10px; color: #999; font-weight: bold; text-transform: uppercase; }
        .info-cell div { font-size: 14px; font-weight: 600; color: #333; }

        .summary-ribbon { display: flex; justify-content: space-around; background: linear-gradient(45deg, #004a99, #007bff); border-radius: 15px; padding: 20px; margin: 25px 0; color: white; text-align: center; }
        .ribbon-item b { font-size: 24px; display: block; }

        table { width: 100%; border-collapse: collapse; margin-top: 20px; border: 1px solid var(--border); }
        th { background: #f8f9fa; color: var(--primary); padding: 12px; font-size: 13px; border: 1px solid var(--border); }
        td { padding: 12px; border: 1px solid var(--border); text-align: center; }
        
        .action-bar { display: flex; gap: 15px; margin-top: 30px; justify-content: center; flex-wrap: wrap; }
        .btn-call { background: var(--success); color: white; padding: 12px 25px; border-radius: 10px; text-decoration: none; font-weight: bold; display: flex; align-items: center; gap: 8px; font-size: 14px; }
        .footer-note { text-align: center; margin-top: 30px; font-size: 12px; color: #777; }
    </style>
</head>
<body>

<div class="container" id="printableArea">
    <div class="lang-bar">
        <button class="lang-btn active" onclick="setLanguage('am')">·ä†·àõ·à≠·äõ</button>
        <button class="lang-btn" onclick="setLanguage('en')">English</button>
        <button class="lang-btn" onclick="setLanguage('om')">Oromoo</button>
        <button class="lang-btn" onclick="setLanguage('so')">Soomaali</button>
        <button class="lang-btn" onclick="setLanguage('ti')">·âµ·åç·à≠·äõ</button>
    </div>

    <div class="school-banner">
        <h1 id="t_school">DAMOT GENERAL SECONDARY SCHOOL</h1>
        <p id="t_subtitle">Developed by <span class="highlight-name">Workineh</span></p>
    </div>

    <div id="loginSection" class="login-card">
        <h2 id="t_welcome">·ä•·äï·ä≥·äï ·ã∞·àÖ·äì ·àò·å°!</h2>
        <input type="text" id="regName" placeholder="Full Name (·àô·àâ ·àµ·àù)">
        <input type="text" id="regID" placeholder="Admission Number (·àò·àà·ã´ ·âÅ·å•·à≠)">
        <input type="password" id="regPass" placeholder="Password (·ã®·ã≠·àà·çç ·âÉ·àç)">
        <button class="btn-main" id="t_viewBtn" onclick="loadStudentResult()">·ãç·å§·âµ ·ã≠·àò·àç·ä®·â±</button>
    </div>

    <div id="resultArea">
        <div id="pName"></div>
        
        <div class="grid-info">
            <div class="info-cell"><label id="l_id">Admission No</label><div id="pID"></div></div>
            <div class="info-cell"><label id="l_gen">Gender</label><div id="pGen"></div></div>
            <div class="info-cell"><label id="l_grade">Grade & Section</label><div id="pGrade"></div></div>
            <div class="info-cell"><label id="l_year">Academic Year</label><div id="pYear"></div></div>
            <div class="info-cell"><label id="l_nat">Nationality</label><div id="pNat"></div></div>
            <div class="info-cell"><label id="l_zone">Zone</label><div id="pZone"></div></div>
            <div class="info-cell"><label id="l_wor">Woreda</label><div id="pWor"></div></div>
            <div class="info-cell"><label id="l_sch">School</label><div id="pSch"></div></div>
        </div>

        <div class="summary-ribbon">
            <div class="ribbon-item"><span id="l_total">Total Score</span><b id="pTotal"></b></div>
            <div class="ribbon-item"><span id="l_avg">Average (%)</span><b id="pAvg"></b></div>
            <div class="ribbon-item"><span id="l_status">Status</span><b id="pStatus"></b></div>
        </div>

        <table>
            <thead>
                <tr>
                    <th id="h_sub">Subject</th>
                    <th>40%</th>
                    <th>60%</th>
                    <th id="h_tot">Total</th>
                    <th id="h_grd">Grade</th>
                </tr>
            </thead>
            <tbody id="tableBody"></tbody>
        </table>

        <div class="action-bar">
            <button class="btn-main" style="background:#333; margin:0; padding: 12px 25px;" id="t_download" onclick="downloadPDF()">Download PDF</button>
            <a href="tel:0961364574" class="btn-call">
                üìû <span id="t_call">Call Complaint: 0961364574</span>
            </a>
        </div>
        <div class="footer-note">¬© 2028 Damot General Secondary School - All Rights Reserved.</div>
    </div>
</div>

<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

<script>
    const translations = {
        am: { school: "·ã≥·àû·âµ ·ä†·å†·âÉ·àã·ã≠ ·àÅ·àà·â∞·äõ ·ã∞·à®·åÉ ·âµ·àù·àÖ·à≠·âµ ·â§·âµ", welcome: "·ä•·äï·ä≥·äï ·ã∞·àÖ·äì ·àò·å°!", viewBtn: "·ãç·å§·âµ ·ã≠·àò·àç·ä®·â±", l_id: "·àò·àà·ã´ ·âÅ·å•·à≠", l_gen: "·åæ·â≥", l_grade: "·ä≠·çç·àç·äì ·à¥·ä≠·àΩ·äï", l_year: "·âµ·àù·àÖ·à≠·âµ ·ãò·àò·äï", l_nat: "·ãú·åç·äê·âµ", l_zone: "·ãû·äï", l_wor: "·ãà·à®·ã≥", l_sch: "·âµ·àù·àÖ·à≠·âµ ·â§·âµ", l_total: "·å†·âÖ·àã·àã ·ãç·å§·âµ", l_avg: "·ä†·àõ·ä´·ã≠", l_status: "·àÅ·äî·â≥", h_sub: "·âµ·àù·àÖ·à≠·âµ", h_tot: "·ãµ·àù·à≠", h_grd: "·ã∞·à®·åÉ", download: "·ä†·ãç·à≠·ãµ (PDF)", call: "·âÖ·à¨·â≥ ·àà·àõ·âÖ·à®·â•: 0961364574" },
        en: { school: "DAMOT GENERAL SECONDARY SCHOOL", welcome: "Welcome Back!", viewBtn: "View Result Now", l_id: "Admission No", l_gen: "Gender", l_grade: "Grade & Section", l_year: "Academic Year", l_nat: "Nationality", l_zone: "Zone", l_wor: "Woreda", l_sch: "School", l_total: "Total Score", l_avg: "Average", l_status: "Status", h_sub: "Subject", h_tot: "Total", h_grd: "Grade", download: "Download PDF", call: "Call Complaint: 0961364574" },
        om: { school: "MANA BARUMSA DAMOT", welcome: "Baga Nagaan Dhuftan!", viewBtn: "Bu'aa Ilaali", l_id: "ID Galmee", l_gen: "Saala", l_grade: "Kutaa & Garee", l_year: "Waggaa Barnootaa", l_nat: "Lammummaa", l_zone: "Zoonii", l_wor: "Aanaa", l_sch: "Mana Barumsaa", l_total: "Waliigala", l_avg: "Giddu-galeessa", l_status: "Haala", h_sub: "Barnoota", h_tot: "Waliigala", h_grd: "Sadarkaa", download: "PDF Buusi", call: "Kaka'umsaaf: 0961364574" },
        so: { school: "DUGSIYADA SARE EE DAMOT", welcome: "Ku soo dhawaada!", viewBtn: "Arag Natiijada", l_id: "ID-ga", l_gen: "Jinsiga", l_grade: "Fasalka", l_year: "Sannad Dugsiyeedka", l_nat: "Dhalashada", l_zone: "Aagga", l_wor: "Degmada", l_sch: "Dugsiga", l_total: "Warta", l_avg: "Celcelis", l_status: "Xaaladda", h_sub: "Maadada", h_tot: "Warta", h_grd: "Darajada", download: "Soo deji PDF", call: "Cabashada: 0961364574" },
        ti: { school: "·ã≥·àû·âµ ·ä´·àç·ä£·ã≠ ·ã∞·à®·åÉ ·â§·âµ ·âµ·àù·àÖ·à≠·â≤", welcome: "·ä•·äï·ä≥·ãï ·â•·ã∞·àì·äï ·àò·åª·ä•·ä©·àù!", viewBtn: "·ãç·åΩ·ä¢·âµ ·à≠·ä†", l_id: "·àò·çç·àà·ã™ ·âë·çÖ·à™", l_gen: "·åæ·â≥", l_grade: "·ä≠·çç·àä", l_year: "·ãì·àò·âµ ·âµ·àù·àÖ·à≠·â≤", l_nat: "·ãú·åç·äê·âµ", l_zone: "·ãû·â£", l_wor: "·ãà·à®·ã≥", l_sch: "·â§·âµ ·âµ·àù·àÖ·à≠·â≤", l_total: "·ãµ·àù·à≠", l_avg: "·àõ·ä•·ä®·àã·ã≠", l_status: "·ä©·äê·â≥·âµ", h_sub: "·âµ·àù·àÖ·à≠·â≤", h_tot: "·ãµ·àù·à≠", h_grd: "·ã∞·à®·åÉ", download: "PDF ·ä£·ãç·à≠·ãµ", call: "·äï·âÖ·à¨·â≥: 0961364574" }
    };

    function setLanguage(lang) {
        const t = translations[lang] || translations['en'];
        document.getElementById('t_school').innerText = t.school;
        document.getElementById('t_welcome').innerText = t.welcome;
        document.getElementById('t_viewBtn').innerText = t.viewBtn;
        document.getElementById('l_id').innerText = t.l_id;
        document.getElementById('l_gen').innerText = t.l_gen;
        document.getElementById('l_grade').innerText = t.l_grade;
        document.getElementById('l_year').innerText = t.l_year;
        document.getElementById('l_nat').innerText = t.l_nat;
        document.getElementById('l_zone').innerText = t.l_zone;
        document.getElementById('l_wor').innerText = t.l_wor;
        document.getElementById('l_sch').innerText = t.l_sch;
        document.getElementById('l_total').innerText = t.l_total;
        document.getElementById('l_avg').innerText = t.l_avg;
        document.getElementById('l_status').innerText = t.l_status;
        document.getElementById('h_sub').innerText = t.h_sub;
        document.getElementById('h_tot').innerText = t.h_tot;
        document.getElementById('h_grd').innerText = t.h_grd;
        document.getElementById('t_download').innerText = t.download;
        document.getElementById('t_call').innerText = t.call;
        document.querySelectorAll('.lang-btn').forEach(b => b.classList.remove('active'));
        event.target.classList.add('active');
    }

    const firebaseConfig = {
      apiKey: "AIzaSyDqX185jJuZU5SGEjVVNCGNh5aS0hgov58",
      authDomain: "damoto-school-result.firebaseapp.com",
      databaseURL: "https://damoto-school-result-default-rtdb.firebaseio.com",
      projectId: "damoto-school-result",
      storageBucket: "damoto-school-result.firebasestorage.app",
      messagingSenderId: "419800691638",
      appId: "1:419800691638:web:d08ae5311b85f24bb28717"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    function loadStudentResult() {
        const name = document.getElementById('regName').value.trim().toLowerCase();
        const id = document.getElementById('regID').value.trim();
        const pass = document.getElementById('regPass').value.trim();

        db.ref('students/' + id).once('value').then(snap => {
            const data = snap.val();
            if(data && data.password == pass && data.name.toLowerCase() === name) {
                document.getElementById('loginSection').style.display = 'none';
                document.getElementById('resultArea').style.display = 'block';

                document.getElementById('pName').innerText = data.name;
                document.getElementById('pID').innerText = id;
                document.getElementById('pGen').innerText = data.gender || "M/F";
                document.getElementById('pGrade').innerText = (data.grade || "10") + " (" + (data.section || "A") + ")";
                document.getElementById('pYear').innerText = data.academicYear || "2018 E.C";
                document.getElementById('pNat').innerText = data.nationality || "Ethiopian";
                document.getElementById('pZone').innerText = data.zone || "East Gojjam";
                document.getElementById('pWor').innerText = data.woreda || "Hulet Eju Enese";
                document.getElementById('pSch').innerText = data.school || "Damot General Secondary";
                
                document.getElementById('pTotal').innerText = data.total || "0";
                document.getElementById('pAvg').innerText = (data.average || "0") + "%";
                document.getElementById('pStatus').innerText = data.status || "PASSED";

                const subs = [
                    {n: "Mathematics", s40: data.maths40, s60: data.maths60, t: data.maths},
                    {n: "English", s40: data.english40, s60: data.english60, t: data.english},
                    {n: "Biology", s40: data.biology40, s60: data.biology60, t: data.biology},
                    {n: "Chemistry", s40: data.chemistry40, s60: data.chemistry60, t: data.chemistry},
                    {n: "Physics", s40: data.physics40, s60: data.physics60, t: data.physics},
                    {n: "Geography", s40: data.geography40, s60: data.geography60, t: data.geography},
                    {n: "History", s40: data.history40, s60: data.history60, t: data.history},
                    {n: "Amharic", s40: data.amharic40, s60: data.amharic60, t: data.amharic}
                ];

                let rows = "";
                subs.forEach(s => {
                    let g = s.t >= 90 ? "A+" : s.t >= 80 ? "A" : s.t >= 70 ? "B" : s.t >= 50 ? "C" : "D";
                    rows += `<tr><td style="text-align:left">${s.n}</td><td>${s.s40||0}</td><td>${s.s60||0}</td><td><b>${s.t||0}</b></td><td><b>${g}</b></td></tr>`;
                });
                document.getElementById('tableBody').innerHTML = rows;
            } else { alert("Incorrect Name, ID or Password!"); }
        });
    }

    function downloadPDF() {
        const element = document.getElementById('printableArea');
        html2pdf().from(element).save('Damot_Result_2028.pdf');
    }
</script>
</body>
</html>
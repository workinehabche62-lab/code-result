<!DOCTYPE html>
<html lang="en">
<head><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <meta name="google-site-verification" content="njhebUWbBkoK6WBkmyEyU5ntA4YIGMwnI9V6g2Eaw0k" />

    <title>Damot 2028 Result - Student Portal</title>
    <meta name="description" content="Official Damot General Secondary School 2028 Student Result Portal.">
    <meta name="keywords" content="Damot 2028 Result, Damot School Result, Damot School">
    
    ```

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Damot General School - Student Portal</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <style>
        :root { 
            --primary: #004a99; 
            --accent: #ffcc00;
            --secondary: #f0f4f8; 
            --border: #dee2e6; 
            --passed: #166534;
        }
        body { font-family: 'Roboto', sans-serif; background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); margin: 0; padding: 15px; min-height: 100vh; }
        .container { max-width: 900px; margin: 20px auto; background: white; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.15); overflow: hidden; border: 1px solid rgba(255,255,255,0.3); }
        
        /* Banner Area */
        .school-banner { background: linear-gradient(90deg, #004a99 0%, #0066cc 100%); color: white; padding: 40px 20px; text-align: center; border-bottom: 6px solid var(--accent); }
        .school-banner h1 { margin: 0; font-size: 28px; text-shadow: 2px 2px 4px rgba(0,0,0,0.3); }

        /* Login Area */
        .login-card { padding: 80px 20px; text-align: center; background: white; }
        input { width: 90%; max-width: 350px; padding: 15px; margin: 12px 0; border: 2px solid #eee; border-radius: 10px; font-size: 16px; transition: 0.3s; }
        input:focus { border-color: var(--primary); box-shadow: 0 0 10px rgba(0,74,153,0.1); outline: none; }
        .btn-main { background: var(--primary); color: white; padding: 16px 50px; border: none; border-radius: 10px; cursor: pointer; font-weight: bold; font-size: 18px; transition: 0.3s; box-shadow: 0 4px 15px rgba(0,74,153,0.3); }
        .btn-main:hover { background: #003366; transform: translateY(-2px); }

        /* Result Section */
        #resultArea { display: none; padding: 30px; animation: fadeIn 0.5s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* Beautiful Gradient Name */
        #pName { 
            font-size: 32px; 
            font-weight: 800; 
            background: linear-gradient(to right, #004a99, #ff00cc);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 5px;
        }

        .profile-header { display: flex; align-items: center; gap: 25px; border-bottom: 3px solid var(--secondary); padding-bottom: 25px; margin-bottom: 25px; }
        .student-photo { width: 130px; height: 130px; border-radius: 15px; border: 4px solid white; box-shadow: 0 5px 15px rgba(0,0,0,0.1); object-fit: cover; background: #f8f9fa; }

        .grid-info { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 30px; }
        .info-cell { background: #fcfcfc; padding: 12px; border-radius: 8px; border-left: 4px solid var(--primary); }
        .info-cell label { font-size: 10px; color: #999; text-transform: uppercase; letter-spacing: 1px; font-weight: bold; }
        .info-cell div { font-size: 15px; font-weight: 600; color: #333; margin-top: 4px; }

        .summary-ribbon { display: flex; justify-content: space-around; background: linear-gradient(45deg, #004a99, #007bff); border-radius: 15px; padding: 25px; margin: 25px 0; color: white; }
        .ribbon-item { text-align: center; }
        .ribbon-item span { font-size: 12px; opacity: 0.9; display: block; margin-bottom: 5px; }
        .ribbon-item b { font-size: 26px; }

        /* Table Styling */
        table { width: 100%; border-collapse: separate; border-spacing: 0; margin-top: 20px; border-radius: 12px; overflow: hidden; border: 1px solid var(--border); }
        th { background: #f8f9fa; color: var(--primary); padding: 15px; font-size: 13px; text-transform: uppercase; border-bottom: 2px solid var(--primary); }
        td { padding: 15px; border-bottom: 1px solid var(--border); text-align: center; font-size: 15px; background: white; }
        tr:last-child td { border-bottom: none; }
        tr:hover td { background: #f0f7ff; }

        /* Actions */
        .action-bar { display: flex; gap: 15px; margin-top: 40px; justify-content: center; }
        .btn-action { padding: 14px 30px; border-radius: 10px; cursor: pointer; border: none; font-weight: bold; text-decoration: none; display: flex; align-items: center; gap: 10px; transition: 0.3s; }
        .btn-download { background: #333; color: white; }
        .btn-complaint { background: #25d366; color: white; }
        .btn-action:hover { opacity: 0.9; transform: scale(1.05); }

        .status-badge { display: inline-block; padding: 6px 15px; background: #e6ffed; color: #166534; border-radius: 20px; font-size: 14px; font-weight: 800; border: 1px solid #166534; }
    </style>
</head>
<body>

<div class="container" id="printableArea">
    <div class="school-banner">
        <h1>DAMOT GENERAL SECONDARY SCHOOL</h1>
        <p style="margin: 5px 0 0; opacity: 0.9; letter-spacing: 1px;">STUDENT RESULT PORTAL</p>
    </div>

    <div id="loginSection" class="login-card">
        <h2 style="color: var(--primary);">Welcome Back!</h2>
        <p style="color: #666; margin-bottom: 25px;">Please enter your details to view your result.</p>
        <input type="text" id="regID" placeholder="Registration ID (e.g. 156100)">
        <br>
        <input type="password" id="regPass" placeholder="Password">
        <br><br>
        <button class="btn-main" onclick="loadStudentResult()">View Result Now</button>
    </div>

    <div id="resultArea">
        <div class="profile-header">
            <img id="pPhoto" src="" class="student-photo" alt="Student">
            <div>
                <div id="pName"></div>
                <div class="status-badge" id="pHeaderStatus"></div>
            </div>
        </div>

        <div class="grid-info">
            <div class="info-cell"><label>Registration No</label><div id="pID"></div></div>
            <div class="info-cell"><label>Gender</label><div id="pGen"></div></div>
            <div class="info-cell"><label>Grade & Section</label><div id="pGrade"></div></div>
            <div class="info-cell"><label>Academic Year</label><div id="pYear"></div></div>
            <div class="info-cell"><label>Nationality</label><div id="pNat"></div></div>
            <div class="info-cell"><label>Zone</label><div id="pZone"></div></div>
            <div class="info-cell"><label>Woreda</label><div id="pWor"></div></div>
            <div class="info-cell"><label>School</label><div id="pSch"></div></div>
        </div>

        <div class="summary-ribbon">
            <div class="ribbon-item"><span>TOTAL SCORE</span><b id="pTotal"></b></div>
            <div class="ribbon-item"><span>AVERAGE (%)</span><b id="pAvg"></b></div>
            <div class="ribbon-item"><span>FINAL STATUS</span><b id="pRibbonStatus"></b></div>
        </div>

        <table>
            <thead>
                <tr>
                    <th rowspan="2" style="text-align: left;">Subject</th>
                    <th colspan="2">Assessment</th>
                    <th rowspan="2">Total (100)</th>
                    <th rowspan="2">Grade</th>
                </tr>
                <tr>
                    <th>40%</th>
                    <th>60%</th>
                </tr>
            </thead>
            <tbody id="tableBody"></tbody>
        </table>

        <div class="action-bar">
            <button class="btn-action btn-download" onclick="downloadPDF()">Download PDF</button>
            <a href="tel:0961364574" class="btn-action btn-complaint">Call Complaint: 0961364574</a>
        </div>
    </div>
</div>

<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

<script>
    const firebaseConfig = {
      apiKey: "AIzaSyDqX185jJuZU5SGEjVVNCGNh5aS0hgov58",
      authDomain: "damoto-school-result.firebaseapp.com",
      databaseURL: "https://damoto-school-result-default-rtdb.firebaseio.com",
      projectId: "damoto-school-result",
      storageBucket: "damoto-school-result.firebasestorage.app",
      messagingSenderId: "419800691638",
      appId: "1:419800691638:web:d08ae5311b85f24bb28717"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    function loadStudentResult() {
        const id = document.getElementById('regID').value;
        const pass = document.getElementById('regPass').value;

        if(!id || !pass) { alert("Please fill both ID and Password"); return; }

        db.ref('students/' + id).once('value').then(snap => {
            const data = snap.val();
            if(data && data.password == pass) {
                document.getElementById('loginSection').style.display = 'none';
                document.getElementById('resultArea').style.display = 'block';

                // Display Personal Data
                document.getElementById('pPhoto').src = data.photoURL || "https://via.placeholder.com/130";
                document.getElementById('pName').innerText = data.name || "N/A";
                document.getElementById('pID').innerText = id;
                document.getElementById('pGen').innerText = data.gender || "N/A";
                document.getElementById('pGrade').innerText = (data.grade || "") + " (" + (data.section || "") + ")";
                document.getElementById('pYear').innerText = data.academicYear || "2018 E.C";
                document.getElementById('pNat').innerText = data.nationality || "Ethiopian";
                document.getElementById('pZone').innerText = data.zone || "N/A";
                document.getElementById('pWor').innerText = data.woreda || "N/A";
                document.getElementById('pSch').innerText = data.school || "Damot General Secondary School";
                
                document.getElementById('pTotal').innerText = data.total || "0";
                document.getElementById('pAvg').innerText = (data.average || "0") + "%";
                
                const statusValue = data.status || "PASSED";
                document.getElementById('pHeaderStatus').innerText = statusValue;
                document.getElementById('pRibbonStatus').innerText = statusValue;

                // Subjects Data Processing
                const subjects = [
                    { name: "Mathematics", s40: data.maths40, s60: data.maths60, tot: data.maths },
                    { name: "English", s40: data.english40, s60: data.english60, tot: data.english },
                    { name: "Biology", s40: data.biology40, s60: data.biology60, tot: data.biology },
                    { name: "Chemistry", s40: data.chemistry40, s60: data.chemistry60, tot: data.chemistry },
                    { name: "Physics", s40: data.physics40, s60: data.physics60, tot: data.physics },
                    { name: "Geography", s40: data.geography40, s60: data.geography60, tot: data.geography }
                ];

                let tableRows = "";
                subjects.forEach(s => {
                    let score = s.tot || 0;
                    let grade = score >= 90 ? "A+" : score >= 80 ? "A" : score >= 70 ? "B" : score >= 50 ? "C" : "D";
                    tableRows += `<tr>
                        <td style="text-align:left; font-weight:bold;">${s.name}</td>
                        <td>${s.s40 !== undefined ? s.s40 : "0"}</td>
                        <td>${s.s60 !== undefined ? s.s60 : "0"}</td>
                        <td style="color:var(--primary);"><b>${score}</b></td>
                        <td style="font-weight:bold;">${grade}</td>
                    </tr>`;
                });
                document.getElementById('tableBody').innerHTML = tableRows;

            } else { alert("ID or Password incorrect!"); }
        });
    }

    function downloadPDF() {
        const element = document.getElementById('printableArea');
        const opt = {
            margin: 0.3,
            filename: 'Student_Result.pdf',
            image: { type: 'jpeg', quality: 0.98 },
            html2canvas: { scale: 2 },
            jsPDF: { unit: 'in', format: 'letter', orientation: 'portrait' }
        };
        html2pdf().set(opt).from(element).save();
    }
</script>
</body>
</html>